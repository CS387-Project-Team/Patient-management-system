{% extends 'base.html' %}

{% block header %}
	<!-- <h1>{% block title %}Profile{% endblock %}</h1> -->
{% endblock %}

{% block content %}

<div class="row mt-2 justify-content-center">
	<div class="col-sm-8">

		<div class="card">
			<div class="card-header">
				<h5> Choose test to generate bill for</h5>
			</div>
			<div class="card-body">
				<form method="post">
					<div class="mb-3 row">
						<label for="name" class="col-sm-5 col-form-label">Choose appointment id</label>
						<div class="col-sm-7">
							<input type="text" class="form-control bg-light" name="app_id" id="app_id" value="" required>
						</div>
					</div>
					<div class="mb-3 row">
						<label for="name" class="col-sm-5 col-form-label">Discount</label>
						<div class="col-sm-7">
							<input type="number" class="form-control bg-light" name="discount" id="discount" value="0">
						</div>
					</div>
					<input type="submit" class="btn btn-outline-secondary mt-5" name="action" value="Generate bill">
				</form>
			</div>
		</div>

		<div class="row mt-2">
			<div class="col-sm-15 col-md-15 col-lg-15 mb-6">
				<div class="card mx-4-md mx-4-lg">
					<div class="card-header">
						<h4>
							Tests
						</h4>
					</div>
					<div class="card-body">
						<div class="table-responsive app">
							<table class="table table-light table-hover">
								<tr>
									<th>Appointment id</th> 
									<th>Patient id</th>
									<th>Doctor id</th>
									<th>Date</th>
									<th>Start time</th>
									<th>Type</th>
									<th>Bill no</th>
								</tr>
								{% for row in data['appos'] %}
									<tr>
										<td>{{ row['app_id'] }}</td>
										<td>{{ row['patient_id'] }}</td>
										<td>{{ row['doc_id'] }}</td>
										<td>{{ row['dat'] }}</td>
										<td>{{ row['start_time'] }}</td>
										<td>{{ row['type'] }}</td>
										<td>{{ row['bill_no'] }}</td>
									</tr>
								{% endfor %}
							</table>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-15 col-md-15 col-lg-15 mb-6">
				<div class="card mx-4-md mx-4-lg">
					<div class="card-header">
						<h4>
							Bills
						</h4>
					</div>
					<div class="card-body">
						<div class="table-responsive app">
							<table class="table table-light table-hover">
								<tr>
									<th>Bill no</th>
									<th>Paid by</th> 
									<th>Purpose</th>
									<th>Discount</th>
									<th>Mode</th>
								</tr>
								{% for row in data['bills'] %}
									<tr>
										<td>{{ row['bill_no'] }}</td>
										<td>{{ row['paid_by'] }}</td>
										<td>{{ row['purpose'] }}</td>
										<td>{{ row['discount'] }}</td>
										<td>{{ row['mode'] }}</td>
									</tr>
								{% endfor %}
							</table>
						</div>
					</div>
				</div>
			</div>

		</div>

	</div>
</div>
{% endblock %}