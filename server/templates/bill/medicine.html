{% extends 'base.html' %}

{% block header %}
	<!-- <h1>{% block title %}Profile{% endblock %}</h1> -->
{% endblock %}

{% block content %}

<div class="row mt-2 justify-content-center">
	<div class="col-sm-8">
		
		<div class="card">
			<div class="card-header">
				<h5> Choose test to generate bill for</h5>
			</div>
			<div class="card-body">
				<form method="post">
					<div class="mb-3 row">
						<label for="name" class="col-sm-5 col-form-label">
						Enter (medicine, quantity) pairs (semicolon seperated), for eg "(1, 2); (2, 1)"</label>
						<div class="col-sm-7">
							<input type="text" class="form-control bg-light" name="meds" id="meds" value="" required>
						</div>
					</div>
					<div class="mb-3 row">
						<label for="name" class="col-sm-5 col-form-label">Discount</label>
						<div class="col-sm-7">
							<input type="number" class="form-control bg-light" name="discount" id="discount" value="0">
						</div>
					</div>
					<input type="submit" class="btn btn-outline-secondary mt-5" name="action" value="Generate bill">
				</form>
			</div>
		</div>
		
		<div class="row mt-2">
			<div class="col-sm-15 col-md-15 col-lg-15 mb-6">
				<div class="card mx-4-md mx-4-lg">
					<div class="card-header">
						<h4>
							Medicines
						</h4>
					</div>
					<div class="card-body">
						<div class="table-responsive app">
							<table class="table table-light table-hover">
								<tr>
									<th>Medicine id</th> 
									<th>Name</th>
									<th>Description</th>
									<th>Manufacturer</th>
									<th>Price</th>
								</tr>
								{% for row in data['medicines'] %}
									<tr>
										<td>{{ row['med_id'] }}</td>
										<td>{{ row['name'] }}</td>
										<td>{{ row['descr'] }}</td>
										<td>{{ row['manufc'] }}</td>
										<td>{{ row['price'] }}</td>
									</tr>
								{% endfor %}
							</table>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-15 col-md-15 col-lg-15 mb-6">
				<div class="card mx-4-md mx-4-lg">
					<div class="card-header">
						<h4>
							Bills
						</h4>
					</div>
					<div class="card-body">
						<div class="table-responsive app">
							<table class="table table-light table-hover">
								<tr>
									<th>Bill no</th>
									<th>Paid by</th> 
									<th>Purpose</th>
									<th>Discount</th>
									<th>Mode</th>
								</tr>
								{% for row in data['bills'] %}
									<tr>
										<td>{{ row['bill_no'] }}</td>
										<td>{{ row['paid_by'] }}</td>
										<td>{{ row['purpose'] }}</td>
										<td>{{ row['discount'] }}</td>
										<td>{{ row['mode'] }}</td>
									</tr>
								{% endfor %}
							</table>
						</div>
					</div>
				</div>
			</div>

		</div>

	</div>
</div>
{% endblock %}