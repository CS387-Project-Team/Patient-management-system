{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}View available slots{% endblock %}</h1>
{% endblock %}

{% block content %}
  <form method="post">
    <label for="date">Date</label>
    <input type="date" name="date" id="date" value="{{ data['today'] }}" required>
    <input type="submit" value="View">
  </form>
  <div class="row">
    {% for doc_slot in data['slots'] %}
      <p>{{ doc_slot['name'] }}</p>
      <p>{{ doc_slot['speciality'] }}</p>
      {% for start_time in doc_slot['start_time'] %}
        <form action="{{ url_for('book_appointment') }}" method="post">
          <input type="hidden" id="doctor_id" name="doctor_id" value="{{ doc_slot['id'] }}">
          <input type="hidden" id="date" name="date" value="{{ doc_slot['date'] }}">
          <input type="hidden" id="type" name="type" value="OPD">
          <input type="hidden" id="complaint" name="complaint" value="">
          <input type="submit" id="time" name="time" value="{{ start_time }}">
        </form>
      {% endfor %}
    {% endfor %}
  </div>
{% endblock %}
